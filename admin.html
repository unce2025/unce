<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel - United Nation Cargo Express</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
      color: #000;
    }

    header {
      background-color: #001f3f;
      color: #fff;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
    }

    .container {
      padding: 2rem;
      max-width: 1000px;
      margin: auto;
      background: #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      border-radius: 10px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 1rem;
    }

    .form-group label {
      font-weight: bold;
      margin-bottom: 0.3rem;
    }

    .form-group input,
    .form-group textarea {
      padding: 0.6rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
    }

    .form-actions {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    button {
      background-color: #001f3f;
      color: #fff;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #003366;
    }

    @media (max-width: 600px) {
      .form-group {
        width: 100%;
      }

      .form-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

<header>
  United Nation Cargo Express - Admin Panel
</header>

<div class="container">
  <div class="form-group">
    <label for="searchTracking">Search Tracking Number</label>
    <input type="text" id="searchTracking" placeholder="Enter Tracking Number">
    <button onclick="searchTracking()">Search</button>
  </div>

  <form id="shipmentForm">
    <div class="form-group"><label>Tracking Number</label><input id="TrackingNumber" required></div>
    <div class="form-group"><label>Status</label><input id="Status"></div>
    <div class="form-group"><label>Shipper Name</label><input id="ShipperName"></div>
    <div class="form-group"><label>Shipper Phone</label><input id="ShipperPhone"></div>
    <div class="form-group"><label>Shipper Address</label><input id="ShipperAddress"></div>
    <div class="form-group"><label>Shipper Email</label><input id="ShipperEmail"></div>
    <div class="form-group"><label>Receiver Name</label><input id="ReceiverName"></div>
    <div class="form-group"><label>Receiver Phone</label><input id="ReceiverPhone"></div>
    <div class="form-group"><label>Receiver Address</label><input id="ReceiverAddress"></div>
    <div class="form-group"><label>Receiver Email</label><input id="ReceiverEmail"></div>
    <div class="form-group"><label>Estimated Delivery Date</label><input type="date" id="EstimatedDeliveryDate"></div>
    <div class="form-group"><label>Shipped Date</label><input type="date" id="ShippedDate"></div>
    <div class="form-group"><label>Flight Number</label><input id="FlightNumber"></div>
    <div class="form-group"><label>Package Weight</label><input id="PackageWeight"></div>
    <div class="form-group"><label>Mode</label><input id="Mode"></div>
    <div class="form-group"><label>Product</label><input id="Product"></div>
    <div class="form-group"><label>Quantity</label><input id="Quantity"></div>
    <div class="form-group"><label>Payment</label><input id="Payment"></div>
    <div class="form-group"><label>Total Freight</label><input id="TotalFreight"></div>
    <div class="form-group"><label>Log (JSON format)</label><textarea id="log" rows="3"></textarea></div>
    <div class="form-group"><label>History (JSON format)</label><textarea id="history" rows="4"></textarea></div>

    <div class="form-actions">
      <button type="button" onclick="saveShipment()">Save Shipment</button>
    </div>
  </form>
</div>

<script>
const apiUrl = 'https://yourdomain.com/admin-panel/api.php'; // CHANGE THIS TO YOUR API URL

function searchTracking() {
  const tracking = document.getElementById('searchTracking').value.trim();
  if (!tracking) return alert("Please enter a tracking number.");
  fetch(`${apiUrl}?action=get&tracking=${tracking}`)
    .then(res => res.json())
    .then(data => {
      if (data.error) return alert(data.error);
      for (let key in data) {
        if (document.getElementById(key)) {
          document.getElementById(key).value = data[key];
        }
      }
    });
}

function saveShipment() {
  const fields = [
    "TrackingNumber", "Status", "ShipperName", "ShipperPhone", "ShipperAddress", "ShipperEmail",
    "ReceiverName", "ReceiverPhone", "ReceiverAddress", "ReceiverEmail", "EstimatedDeliveryDate",
    "ShippedDate", "FlightNumber", "PackageWeight", "Mode", "Product", "Quantity", "Payment",
    "TotalFreight", "log", "history"
  ];
  let data = {};
  fields.forEach(id => {
    data[id] = document.getElementById(id)?.value || '';
  });

  fetch(`${apiUrl}?action=save`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(result => {
    if (result.success) {
      alert('Shipment saved successfully!');
    } else {
      alert('Failed to save shipment.');
    }
  });
}
</script>

</body>
</html>
